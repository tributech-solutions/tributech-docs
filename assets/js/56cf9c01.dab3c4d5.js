"use strict";(self.webpackChunktributech_docs=self.webpackChunktributech_docs||[]).push([[4136],{4120:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/node-agent-configure-7ae7cf405f48c53a50f626b64ce56f49.png"},5950:(e,t,n)=>{n.d(t,{A:()=>s});const s="tributech-agent:\n    ...\n    environment:\n      ...\n      - EdgeDeviceOptions__AgentID=00000000-0000-0000-0000-000000000007\n      - EdgeDeviceOptions__NodeUrl=https://my-environment.tributech-node.com\n      - EnrollmentOptions__EnrollmentCertBase64=LS0tLS1C...ZDdqb29rcUV\n      - EnrollmentOptions__EnrollmentKeyBase64=AKS0tLS1C...ZDdqb29rcDE"},8194:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>d,default:()=>g,frontMatter:()=>c,metadata:()=>s,toc:()=>h});const s=JSON.parse('{"id":"tributech_agent/sources/simulated_source","title":"Simulated Source","description":"The Tributech Simulated Source allows us to simulate a data source for testing purposes.","source":"@site/versioned_docs/version-4.0.0/tributech_agent/sources/simulated_source.mdx","sourceDirName":"tributech_agent/sources","slug":"/tributech_agent/sources/simulated_source","permalink":"/tributech_agent/sources/simulated_source","draft":false,"unlisted":false,"editUrl":"https://github.com/tributech-solutions/tributech-dsk-docs/edit/master/versioned_docs/version-4.0.0/tributech_agent/sources/simulated_source.mdx","tags":[],"version":"4.0.0","sidebarPosition":4,"frontMatter":{"title":"Simulated Source","sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"OPC-UA Source","permalink":"/tributech_agent/sources/opcua_source"},"next":{"title":"REST Source","permalink":"/tributech_agent/sources/rest_source"}}');var i=n(4848),r=n(8453),o=n(1028);const a='version: "3.6"\n\nservices:\n  source-simulated:\n    image: ${DOCKER_REGISTRY-tributech.azurecr.io/}tributech-source-simulated:${SOURCE_TAG:-latest}\n    depends_on:\n      - mosquitto-server\n      - tributech-agent\n    environment:\n      - Logging__LogLevel__Default=Trace\n      - Logging__Console__FormatterName=simple\n      - MqttOptions__MQTTHost=mosquitto-server\n    networks:\n      - simulated-net\n    restart: unless-stopped\n    logging:\n      driver: "json-file"\n      options:\n        max-size: "2m"\n        max-file: "5"\n\n  tributech-agent:\n    image: ${DOCKER_REGISTRY-tributech.azurecr.io/}tributech-agent:${AGENT_TAG:-latest}\n    depends_on:\n      - mosquitto-server\n    environment:\n      - Logging__LogLevel__Default=Trace\n      - Logging__Console__FormatterName=simple\n      - MqttOptions__MQTTHost=mosquitto-server\n      - EdgeDeviceOptions__AgentID=${AGENT_ID:?"The Tributech Agent requires a GUID"}\n      - EdgeDeviceOptions__NodeUrl=${NODE_URL:?"The Tributech Node Url is required"}\n      - EnrollmentOptions__EnrollmentCertBase64=${ENROLLMENT_CERT_BASE64:?"The base64 encoded Enrollment Cert is required"}\n      - EnrollmentOptions__EnrollmentKeyBase64=${ENROLLMENT_KEY_BASE64:?"The base64 encoded Enrollment Key is required"}\n    ports:\n      - "5000:8080"\n    networks:\n      - simulated-net\n    volumes:\n      - ./volumes/simulated/agent/:/app/data # volume mapping for permanent storage of keys and datatwin file\n    restart: unless-stopped\n    logging:\n      driver: "json-file"\n      options:\n        max-size: "2m"\n        max-file: "5"\n\n  mosquitto-server:\n    image: eclipse-mosquitto:${MQTT_TAG:-1.6}\n    networks:\n      - simulated-net\n    # ports:\n    # - \'1883:1883\' # MQTT\n    # - "127.0.0.1:9001:9001" # web-socket\n    restart: unless-stopped\n\nnetworks:\n  simulated-net:\n\n';var l=n(5950);const c={title:"Simulated Source",sidebar_position:4},d=void 0,u={},h=[{value:"Setup",id:"setup",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Value Change Options (VCO) Handling",id:"value-change-options",level:3}];function m(e){const t={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.p,{children:"The Tributech Simulated Source allows us to simulate a data source for testing purposes."}),"\n",(0,i.jsx)(t.h2,{id:"setup",children:"Setup"}),"\n",(0,i.jsxs)(t.p,{children:["The Tributech Simulated Source image can be started without any dependencies but will not be functional without a valid Twin Configuration or MessageBroker connect to the Tributech Agent. The TwinConfiguration can be provided via the Tributech Node (recommended) or MessageBroker (see ",(0,i.jsx)(t.a,{href:"../source_integration#twin-model",children:"Source Integration"}),"). The Simulated Source will automatically connect to the Tributech Agent if the Tributech Agent is running and the Simulated Source is configured with the correct MessageBroker settings. In the following section we will describe the setup of a Tributech Simulated Source:"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["Setup the ",(0,i.jsx)(t.strong,{children:(0,i.jsx)(t.em,{children:"docker-compose.yml"})})," file by creating a ",(0,i.jsx)(t.code,{children:"docker-compose.yml"})," file with the following content (adjustments required):","\n",(0,i.jsx)(o.A,{className:"language-yml",title:"docker-compose.yml",children:a}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(t.p,{children:["Adjust the setting for the ",(0,i.jsx)(t.a,{href:"/tributech_agent/overview",children:"Tribtech Agent"})," to your environment, sample value:"]}),"\n",(0,i.jsx)(o.A,{className:"language-plain",title:"env specific settings",children:l.A}),"\n",(0,i.jsx)(t.h2,{id:"configuration",children:"Configuration"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Configure agent",src:n(4120).A+"",width:"1909",height:"351"})}),"\n",(0,i.jsx)(t.p,{children:"Right click the Edge Device and add a Simulated Source:"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Simulated Source Add",src:n(8954).A+"",width:"739",height:"646"})}),"\n",(0,i.jsxs)(t.p,{children:["Right click the newly added ",(0,i.jsx)(t.strong,{children:(0,i.jsx)(t.em,{children:"Simulated Source"})})," and add a ",(0,i.jsx)(t.strong,{children:(0,i.jsx)(t.em,{children:"Simulated Stream"})}),":"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Simulated Stream Add",src:n(9410).A+"",width:"705",height:"530"})}),"\n",(0,i.jsxs)(t.p,{children:["Adjust the Stream settings to your needs and save the settings by clicking ",(0,i.jsx)(t.strong,{children:(0,i.jsx)(t.em,{children:"Save in workspace"})}),":"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Apply Stream Settings",src:n(8245).A+"",width:"2559",height:"1276"})}),"\n",(0,i.jsx)(t.p,{children:"Repeat this step for every stream you need."}),"\n",(0,i.jsxs)(t.p,{children:["After saving all streams in the workspace we can send the configuration to the Tributech Agent and update currently running Tributech Source configuration by clicking ",(0,i.jsx)(t.strong,{children:(0,i.jsx)(t.em,{children:"Apply configuration"})}),"\n",(0,i.jsx)(t.img,{alt:"Save Simulated Source0",src:n(9567).A+"",width:"2551",height:"754"})]}),"\n",(0,i.jsx)(t.h3,{id:"value-change-options",children:"Value Change Options (VCO) Handling"}),"\n",(0,i.jsxs)(t.p,{children:["The basic handling of VCO can be found in ",(0,i.jsx)(t.a,{href:"/tributech_agent/source_integration",children:"Source Integration"}),". This section contains the concrete handling of the ",(0,i.jsx)(t.strong,{children:(0,i.jsx)(t.em,{children:"Step (Delta)"})})," for the simulated source. The following list contains the description for each supported ",(0,i.jsx)(t.strong,{children:(0,i.jsx)(t.em,{children:"Stream Data Encoding"})})," where ",(0,i.jsx)(t.strong,{children:(0,i.jsx)(t.em,{children:"X"})})," represents the value for ",(0,i.jsx)(t.strong,{children:(0,i.jsx)(t.em,{children:"Step (Delta)"})}),":"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:(0,i.jsx)(t.em,{children:"Double"})}),", ",(0,i.jsx)(t.strong,{children:(0,i.jsx)(t.em,{children:"Int32"})}),", ",(0,i.jsx)(t.strong,{children:(0,i.jsx)(t.em,{children:"Long"})}),", ",(0,i.jsx)(t.strong,{children:(0,i.jsx)(t.em,{children:"Float"})}),": defines the minimum difference between values to be submitted, the change is always compared to the last successful submitted value, e.g. if ",(0,i.jsx)(t.strong,{children:(0,i.jsx)(t.em,{children:"X"})}),"= 3 if the double values 1, 2, 5, 8, 10, 11, 14 are received by the Tributech Source only 1, 5, 8, 11, 14 will be submitted."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:(0,i.jsx)(t.em,{children:"Byte Array"})}),": will only be submitted if the current and last submitted value are not equal"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:(0,i.jsx)(t.em,{children:"String UTF 8"})}),": will only be submitted if the current and last submitted value are not equal"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:(0,i.jsx)(t.em,{children:"Boolean"})}),": will only be submitted if the current and last submitted value are not equal"]}),"\n"]})]})}function g(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(m,{...e})}):m(e)}},8245:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/node-source-simulated-add-stream-1f361a28176a9d228d5fcacef11f0528.png"},8954:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/node-source-simulated-add-f10c92952f265b7ebd55d86f457cf2c9.png"},9410:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/node-source-simulated-add-simulated-stream-79a08db01a5cec63e5aed4148df25ba5.png"},9567:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/node-source-simulated-apply-5fac98fe43dcde1af728f77176e736c5.png"}}]);