"use strict";(self.webpackChunktributech_docs=self.webpackChunktributech_docs||[]).push([[3665],{20692:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/ClientCredentialFlow-5c3a4f8d81946976221f51f6cecfe768.png"},28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>l});var i=t(96540);const o={},r=i.createContext(o);function s(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),i.createElement(r.Provider,{value:n},e.children)}},37383:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/OAS-d3e9fbc21a91b37331154f6e83af47c3.png"},62054:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/DemeterArchitectureOverviewAPIIntegration-bb490df3ba6cfd71c4f49a4729829d00.png"},87030:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"tributech_node/api_category/API_integration","title":"Integration","description":"Rest API","source":"@site/versioned_docs/version-4.0.0/tributech_node/api_category/API_integration.md","sourceDirName":"tributech_node/api_category","slug":"/tributech_node/api_category/API_integration","permalink":"/4.0.0/tributech_node/api_category/API_integration","draft":false,"unlisted":false,"editUrl":"https://github.com/tributech-solutions/tributech-dsk-docs/edit/master/versioned_docs/version-4.0.0/tributech_node/api_category/API_integration.md","tags":[],"version":"4.0.0","sidebarPosition":2,"frontMatter":{"title":"Integration","sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Usage","permalink":"/4.0.0/tributech_node/api_category/API_usage"},"next":{"title":"Webhooks Integration","permalink":"/4.0.0/tributech_node/Webhook_integration"}}');var o=t(74848),r=t(28453);const s={title:"Integration",sidebar_position:2},l=void 0,a={},c=[{value:"Rest API",id:"rest-api",level:2},{value:"Authorization",id:"authorization",level:2},{value:"Authorization Flow",id:"authorization-flow",level:4},{value:"Client Credential Flow",id:"client-credential-flow",level:4}];function d(e){const n={a:"a",code:"code",em:"em",h2:"h2",h4:"h4",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h2,{id:"rest-api",children:"Rest API"}),"\n",(0,o.jsxs)(n.p,{children:["Our REST API provides the interfaces as ",(0,o.jsx)(n.a,{href:"https://swagger.io/specification/v3/",children:"OAS V3"})," which can be used to generate REST API clients for multiple languages."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"Tributech Node - API Integraton Focus",src:t(62054).A+"",width:"741",height:"340"})}),"\n",(0,o.jsxs)(n.p,{children:["The api is generally reachable via the url ",(0,o.jsx)(n.code,{children:"<your-node-url>/demeter/api/"}),"  there you can find the json document and a swagger doc website with an general overview of the rest api endpoints."]}),"\n",(0,o.jsx)(n.p,{children:'The API is structured with following "Topics" :'}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.em,{children:(0,o.jsx)(n.strong,{children:"Agent"})})," provides all management regarding a single Tributech Agent"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.em,{children:(0,o.jsx)(n.strong,{children:"Agents"})})," for query propose of multiple agents"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.em,{children:(0,o.jsx)(n.strong,{children:"Credentials"})})," to fetch the credentials of the api, docker registry etc..."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.em,{children:(0,o.jsx)(n.strong,{children:"Graph"})})," provides the Twin Configuration Instance as graph"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.em,{children:(0,o.jsx)(n.strong,{children:"Model"})})," fetching DTDL Model Information"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.em,{children:(0,o.jsx)(n.strong,{children:"ModelManagement"})})," CRUD Methods for the DTDL Models"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.em,{children:(0,o.jsx)(n.strong,{children:"Relationships"})})," CRUD Methods for the Relationships between DTDL Instances"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.em,{children:(0,o.jsx)(n.strong,{children:"Twins"})})," CRUD Methods for DTDL Instances"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.em,{children:(0,o.jsx)(n.strong,{children:"Validation"})})," Validation for DTDL Models"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.em,{children:(0,o.jsx)(n.strong,{children:"WebHookSubscription"})})," CRUD Methods for Webhook related Subscriptions"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.em,{children:(0,o.jsx)(n.strong,{children:"WebHookTopic"})})," Query all available Webhook Events"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.em,{children:(0,o.jsx)(n.strong,{children:"Values"})})," Fetch or Insert Values from or to the Node"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.em,{children:(0,o.jsx)(n.strong,{children:"Proofs"})})," Validate , insert or fetch proofs from the Node"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["To do some example request just visit the above url, authorize yourself ",(0,o.jsx)(n.em,{children:"(see below)"})," and try it out !"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"Tributech Node - OAS",src:t(37383).A+"",width:"1729",height:"1224"})}),"\n",(0,o.jsx)(n.h2,{id:"authorization",children:"Authorization"}),"\n",(0,o.jsx)(n.p,{children:"Our API Authorization is handled via a Keycloak instance. We support following authorization flows :"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"https://auth0.com/docs/get-started/authentication-and-authorization-flow/client-credentials-flow",children:"Client Crediential Flow"})," (for api access)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"https://auth0.com/docs/get-started/authentication-and-authorization-flow/authorization-code-flow-with-proof-key-for-code-exchange-pkce",children:"Authorization Code Flow with PCKE (sha256)"})," (for browser)"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Both can be configured within the Keycloak instance hosted on our Tributech Node Instance."}),"\n",(0,o.jsx)(n.p,{children:"We provide no user or group permissions for our node."}),"\n",(0,o.jsx)(n.p,{children:"In general following urls are used for authorization and token :"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Authorization: ",(0,o.jsx)(n.code,{children:"https://auth.<your-tributech-node-url>/realms/node/protocol/openid-connect/auth"})]}),"\n",(0,o.jsxs)(n.li,{children:["Token: ",(0,o.jsx)(n.code,{children:"https://auth.<your-tributech-node-url>/realms/node/protocol/openid-connect/token"})]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Client Id and Client Credentials can be retrieved by our Node website or on request."}),"\n",(0,o.jsxs)(n.p,{children:["Example Request done with ",(0,o.jsx)(n.a,{href:"https://insomnia.rest/",children:"Insomnia"})]}),"\n",(0,o.jsx)(n.h4,{id:"authorization-flow",children:"Authorization Flow"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"Tributech Node - Authorization Flow",src:t(92400).A+"",width:"1475",height:"1556"})}),"\n",(0,o.jsx)(n.h4,{id:"client-credential-flow",children:"Client Credential Flow"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"Tributech Node - Client Credential Flow",src:t(20692).A+"",width:"1483",height:"1030"})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},92400:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/AuthorizationCodeFlow-277acb6fe67f701bc4e0c49c4d459c19.png"}}]);