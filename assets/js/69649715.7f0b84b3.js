"use strict";(self.webpackChunktributech_docs=self.webpackChunktributech_docs||[]).push([[5212],{31284:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>l,contentTitle:()=>s,default:()=>p,frontMatter:()=>o,metadata:()=>i,toc:()=>d});var n=t(58168),r=(t(96540),t(15680));const o={title:"Grafana",sidebar_position:6},s="Consume Data via Grafana Dashboards",i={unversionedId:"consume_data/grafana",id:"version-1.10.0/consume_data/grafana",title:"Grafana",description:"In this guide you will learn how you can consume Datasets via the built in Grafana dashboards of your DataSpace Node.",source:"@site/versioned_docs/version-1.10.0/consume_data/grafana.md",sourceDirName:"consume_data",slug:"/consume_data/grafana",permalink:"/1.10.0/consume_data/grafana",draft:!1,editUrl:"https://github.com/tributech-solutions/tributech-dsk-docs/edit/master/versioned_docs/version-1.10.0/consume_data/grafana.md",tags:[],version:"1.10.0",sidebarPosition:6,frontMatter:{title:"Grafana",sidebar_position:6},sidebar:"tutorialSidebar",previous:{title:"Audit",permalink:"/1.10.0/consume_data/audit"}},l={},d=[{value:"Prerequisites",id:"prerequisites",level:3},{value:"Node Dashboard Basics",id:"node-dashboard-basics",level:3},{value:"Visualize your data",id:"visualize-your-data",level:2}],u={toc:d},c="wrapper";function p(e){let{components:a,...o}=e;return(0,r.yg)(c,(0,n.A)({},u,o,{components:a,mdxType:"MDXLayout"}),(0,r.yg)("h1",{id:"consume-data-via-grafana-dashboards"},"Consume Data via Grafana Dashboards"),(0,r.yg)("p",null,"In this guide you will learn how you can consume Datasets via the built in Grafana dashboards of your DataSpace Node."),(0,r.yg)("h3",{id:"prerequisites"},"Prerequisites"),(0,r.yg)("p",null,"The prerequisits for consuming data via the integrated Dashboards are, that a Dataset must be available at your node. ",(0,r.yg)("br",null)),(0,r.yg)("p",null,"This could be in one of two ways:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"You are ",(0,r.yg)("strong",{parentName:"li"},"Data Provider"),": You own some Datasets and have your own data on your node (Provider DB)"),(0,r.yg)("li",{parentName:"ul"},"You are ",(0,r.yg)("strong",{parentName:"li"},"Data Consumer"),": You have been granted a Subscription to a Dataset and the data is already synchronised to your node (Consumer DB)")),(0,r.yg)("h3",{id:"node-dashboard-basics"},"Node Dashboard Basics"),(0,r.yg)("p",null,'You can easily navigate to your node dashboard by clicking the "Grafana" menu entry in the side menu of your DataSpace Admin App.\nFor authentication, use the same username and password that you use for authentication when accessing the DataSpace Admin App.'),(0,r.yg)("p",null,(0,r.yg)("img",{alt:"Navigate to Grafana",src:t(77036).A,width:"1826",height:"872"})),(0,r.yg)("p",null,"The dashboarding system is built on the open source technology ",(0,r.yg)("a",{parentName:"p",href:"https://grafana.com/"},(0,r.yg)("strong",{parentName:"a"},"Grafana")),". It comes with pre-configured data sources for the in your DataSpace Node integrated Postgre SQL databases."),(0,r.yg)("p",null,"The structure of dashboards is based on the same logic as in the interface of your DataSpace Node:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Dashboards: My Datasets")," / Provider DB - contains owned Datasets that are connected to your DataSpace Node."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Dashboards: Subscriptions")," / Consumer DB - contains subscriptions to Datasets from other members of your Ecosystem.")),(0,r.yg)("h2",{id:"visualize-your-data"},"Visualize your data"),(0,r.yg)("p",null,'The following steps will let you set up a panel for a "double" typed data set. This will require the UUID (ValueMetadataId) of your selected data stream.',(0,r.yg)("br",{parentName:"p"}),"\n",'If you just want to see an example in action, head to "Dashboards->Manage" and select "MY DATASETS->Test Dataset".\n',(0,r.yg)("img",{alt:"Example Dashboard",src:t(9716).A,width:"1757",height:"505"})),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"1. Add a new Dashboard -"),' Click the "+" button and click on the "Dashboard" menu item to create a new Dashboard. Then click on the settings symbol to get to the Dashboard settings of the just created Dashboard, as shown below:'),(0,r.yg)("p",null,(0,r.yg)("img",{alt:"Create Dashboard",src:t(60717).A,width:"2978",height:"1440"})),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},'2. Add a new panel by clicking the "Add panel" button -'),' Select "Add an empty panel" to create a new panel on the dashboard.\n',(0,r.yg)("img",{alt:"Add Panel",src:t(81061).A,width:"1908",height:"402"})),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"3. Select a data source for the panel -")," Depending on what data set should be used, select"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},'"DataApi.MasterDB" if you are the provider of the data set'),(0,r.yg)("li",{parentName:"ul"},'"DataApi.SlaveDB" if you are the consumer of the data set')),(0,r.yg)("p",null,(0,r.yg)("img",{alt:"Select Data Source",src:t(70708).A,width:"1899",height:"822"})),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"4. Query the data source -"),' Switch to the raw SQL editor by clicking the "Edit SQL" button.\n',(0,r.yg)("img",{alt:"Edit SQL",src:t(34730).A,width:"1510",height:"348"})),(0,r.yg)("p",null,'Copy the following SQL code and replace the placeholder of "ValueMetadataId" with the UUID of your stream:'),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-SQL"},'SELECT\n  "Timestamp" AS "time",\n  get_bytea_to_double("Values", 0) AS "double" -- for double values\n  -- get_bytea_to_single("Values", 0) AS "float" -- for float values\nFROM "Value"\nWHERE\n  $__timeFilter("Timestamp") AND\n  "ValueMetadataId" = \'replace_with_your_own\'\nORDER BY 1\n')),(0,r.yg)("p",null,"Optionally, you can now rename the rows / panels to your liking or just play around with your brand new dashboard!"))}p.isMDXComponent=!0},15680:(e,a,t)=>{t.d(a,{xA:()=>u,yg:()=>y});var n=t(96540);function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function o(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function s(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?o(Object(t),!0).forEach((function(a){r(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function i(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var l=n.createContext({}),d=function(e){var a=n.useContext(l),t=a;return e&&(t="function"==typeof e?e(a):s(s({},a),e)),t},u=function(e){var a=d(e.components);return n.createElement(l.Provider,{value:a},e.children)},c="mdxType",p={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},g=n.forwardRef((function(e,a){var t=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),c=d(t),g=r,y=c["".concat(l,".").concat(g)]||c[g]||p[g]||o;return t?n.createElement(y,s(s({ref:a},u),{},{components:t})):n.createElement(y,s({ref:a},u))}));function y(e,a){var t=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var o=t.length,s=new Array(o);s[0]=g;var i={};for(var l in a)hasOwnProperty.call(a,l)&&(i[l]=a[l]);i.originalType=e,i[c]="string"==typeof e?e:r,s[1]=i;for(var d=2;d<o;d++)s[d]=t[d];return n.createElement.apply(null,s)}return n.createElement.apply(null,t)}g.displayName="MDXCreateElement"},60717:(e,a,t)=>{t.d(a,{A:()=>n});const n=t.p+"assets/images/dashboards-create-dashboard-52e17e318d7417dd627caa2c3d7ab715.png"},81061:(e,a,t)=>{t.d(a,{A:()=>n});const n=t.p+"assets/images/grafana_add_panel-d1a054262684ac7505253e899e4f35f6.png"},70708:(e,a,t)=>{t.d(a,{A:()=>n});const n=t.p+"assets/images/grafana_data_source_selection-aa538c68c0f587fc2f806df8dac87e65.png"},34730:(e,a,t)=>{t.d(a,{A:()=>n});const n=t.p+"assets/images/grafana_edit_sql-4eaf30e9fa4b1d81f22da6cde0948fce.png"},9716:(e,a,t)=>{t.d(a,{A:()=>n});const n=t.p+"assets/images/grafana_example_dashboard-28c566e74406c54a5ae7f0872fac7d89.png"},77036:(e,a,t)=>{t.d(a,{A:()=>n});const n=t.p+"assets/images/navigate-to-grafana-7395aa7fd88cbcb51053dfdbf921ea55.png"}}]);