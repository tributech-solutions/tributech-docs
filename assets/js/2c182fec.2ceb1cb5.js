"use strict";(self.webpackChunktributech_docs=self.webpackChunktributech_docs||[]).push([[1976],{66979:function(e,t,n){n.r(t),n.d(t,{assets:function(){return d},contentTitle:function(){return c},default:function(){return g},frontMatter:function(){return u},metadata:function(){return l},toc:function(){return p}});var a=n(83117),o=n(80102),r=(n(67294),n(3905)),s=n(60502),i=["components"],u={title:"ADS Source",sidebar_position:2},c=void 0,l={unversionedId:"setup/agent/sources/ads",id:"setup/agent/sources/ads",title:"ADS Source",description:"The Tributech ADS Source allows to connect to an Beckhoff ADS Server which can be used to ingest or write data.",source:"@site/docs/setup/agent/sources/ads.mdx",sourceDirName:"setup/agent/sources",slug:"/setup/agent/sources/ads",permalink:"/docs/next/setup/agent/sources/ads",draft:!1,editUrl:"https://github.com/tributech-solutions/tributech-dsk-docs/edit/master/docs/setup/agent/sources/ads.mdx",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"ADS Source",sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"OPC UA Source",permalink:"/docs/next/setup/agent/sources/opc-ua"},next:{title:"Simulated Source",permalink:"/docs/next/setup/agent/sources/simulated"}},d={},p=[{value:"Manual setup",id:"manual-setup",level:2}],m={toc:p};function g(e){var t=e.components,u=(0,o.Z)(e,i);return(0,r.kt)("wrapper",(0,a.Z)({},m,u,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"The Tributech ADS Source allows to connect to an Beckhoff ADS Server which can be used to ingest or write data.\nThe ADS Source allows to build a connection as a ADS client and forwards the polled or on change data notifications to our Tributech Agent and to the corresponding stream via our MQTT Broker.\nIt is also possible to write values to specific symbol in a cyclic manner (see ADS Parameter Twin)"),(0,r.kt)("p",null,"Following Features are supported : "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Failure Handling"),(0,r.kt)("li",{parentName:"ul"},"Poll or On Change Data notifications (see ADS Stream Twin)"),(0,r.kt)("li",{parentName:"ul"},"Write values to the ADS Server via Parameters in a cyclic manner "),(0,r.kt)("li",{parentName:"ul"},"Data Control via Data Change Options (PMIN, PMAX, Step)")),(0,r.kt)("h2",{id:"manual-setup"},"Manual setup"),(0,r.kt)("p",null,"For the manual setup of the Tributech ADS Source (",(0,r.kt)("inlineCode",{parentName:"p"},"ads-source"),") we need the main ",(0,r.kt)("a",{parentName:"p",href:"../docker-compose#agent-manual-setup"},(0,r.kt)("strong",{parentName:"a"},"DSK Edge services"))," as a basis."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Copy the ",(0,r.kt)("a",{target:"_blank",href:n(8688).Z},(0,r.kt)("code",null,"docker-compose.override.yml"))," file.\n(see also ",(0,r.kt)("a",{parentName:"p",href:"https://docs.docker.com/compose/extends/#understanding-multiple-compose-files"},(0,r.kt)("strong",{parentName:"a"},"Docker doc - Understanding multiple Compose files")),")"),(0,r.kt)(s.Z,{className:"language-yml",title:"docker-compose.override.yml",mdxType:"CodeBlock"},'version: "3.3"\n\nservices:\n  ads-source:\n    image: ${DOCKER_REGISTRY-tributech.azurecr.io/}ads-source:${SOURCE_TAG:-latest}\n    depends_on:\n      - mosquitto-server\n      - dsk-agent\n    environment:\n      - MqttOptions__MQTTHost=mosquitto-server\n      - Logging__LogLevel__Default=Information\n      # push logs to Loki at server via promtail\n      - TelemetryOptions__LokiUrl=https://promtail-push.${NODE_NAME:?"The variable NODE_NAME needs to be configured in the .env file."}.dataspace-node.com\n      - TelemetryOptions__LokiUser=tributech\n      - TelemetryOptions__LokiPassword=${LOKI_PROMTAIL_PW:?"The variable LOKI_PROMTAIL_PW needs to be configured in the .env file."}\n      - TelemetryOptions__ServiceName=${AGENT_NAME:?"The variable AGENT_NAME needs to be configured in the .env file."}-ads-source\n      - TelemetryOptions__ServiceId=${AGENT_ID:?"The variable AGENT_ID needs to be configured in the .env file."}\n    networks:\n      - edge-net\n    restart: unless-stopped\n    logging:\n      driver: "json-file"\n      options:\n        max-size: "2m"\n        max-file: "5"\n')),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Startup all Tributech Edge and ADS service (will automatically retrieve the Docker images)."),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"docker-compose up -d\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Configure the ADS Source via our DTDL Model and add an entry to the server ADS AMS Router\n",(0,r.kt)("img",{alt:"ADS Network Diagram",src:n(63377).Z,width:"641",height:"471"}))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"You can now continue with ",(0,r.kt)("a",{parentName:"p",href:"/docs/next/setup/agent_companion#agent-companion-connect"},(0,r.kt)("strong",{parentName:"a"},"connecting to, linking & configuring"))," the Tributech Edge Agent and the ",(0,r.kt)("a",{parentName:"p",href:"/docs/next/provide_data/iot/ads"},(0,r.kt)("strong",{parentName:"a"},"ADS Source")),"."))))}g.isMDXComponent=!0},8688:function(e,t,n){t.Z=n.p+"assets/files/docker-compose.override-7a86165d90635fa8d23b20619cfa6a46.yml"},63377:function(e,t,n){t.Z=n.p+"assets/images/ADS-Network-Diagram-db3d093750d7f5ed30c717fe8832ad67.png"}}]);