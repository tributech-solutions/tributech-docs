<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-5.0.0 docs-doc-page docs-doc-id-tributech_node/Webhook_integration" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Webhooks Integration | Tributech Platform Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.tributech.io/img/favicon.png"><meta data-rh="true" name="twitter:image" content="https://docs.tributech.io/img/favicon.png"><meta data-rh="true" property="og:url" content="https://docs.tributech.io/tributech_node/Webhook_integration"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="5.0.0"><meta data-rh="true" name="docusaurus_tag" content="docs-default-5.0.0"><meta data-rh="true" name="docsearch:version" content="5.0.0"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-5.0.0"><meta data-rh="true" property="og:title" content="Webhooks Integration | Tributech Platform Documentation"><meta data-rh="true" name="description" content="General"><meta data-rh="true" property="og:description" content="General"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://docs.tributech.io/tributech_node/Webhook_integration"><link data-rh="true" rel="alternate" href="https://docs.tributech.io/tributech_node/Webhook_integration" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.tributech.io/tributech_node/Webhook_integration" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Webhooks Integration","item":"https://docs.tributech.io/tributech_node/Webhook_integration"}]}</script><link rel="stylesheet" href="/assets/css/styles.8c023f81.css">
<script src="/assets/js/runtime~main.feeaf575.js" defer="defer"></script>
<script src="/assets/js/main.1d9fce7e.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/favicon.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/favicon.png" alt="Tributech Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/favicon.png" alt="Tributech Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Tributech Documentation</b></a><a class="navbar__item navbar__link" href="/tributech_node/overview">Tributech Node</a><a class="navbar__item navbar__link" href="/tributech_agent/overview">Tributech Agent</a><a class="navbar__item navbar__link" href="/tributech_c_sdk/overview">Tributech C-SDK</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/tributech_node/Webhook_integration">5.0.0</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/tributech_node/Webhook_integration">5.0.0</a></li><li><a class="dropdown__link" href="/4.0.0/tributech_node/Webhook_integration">4.0.0</a></li><li><a class="dropdown__link" href="/3.6.0/">3.6.0</a></li></ul></div><a href="https://github.com/tributech-solutions" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_x44X"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_dCNk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/tributech_node/overview">Tributech Node</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tributech_node/overview">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/tributech_node/agent/agent_management">Agents</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/tributech_node/api_category/API_usage">API</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/tributech_node/Webhook_integration">Webhooks Integration</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tributech_agent/overview">Tributech Agent</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tributech_c_sdk/overview">Tributech C-SDK</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Tributech Node</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Webhooks Integration</span></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 5.0.0</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Webhooks Integration</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="general">General<a href="#general" class="hash-link" aria-label="Direct link to General" title="Direct link to General">​</a></h2>
<p>We provide the possibility within our Tributech Node for external services to receive a wide variety of notifications about internal events via <a href="https://en.wikipedia.org/wiki/Webhook" target="_blank" rel="noopener noreferrer">Webhooks</a>. A webhook is an HTTP-based callback function that enables lightweight, event-driven communication between a Tributech Node and a client. The only requirement for a client is to provide a HTTP POST endpoint that returns Status code 200 if an event was successfully received (see <a href="#error-handling">Error Handling</a> for more details).
In the following section, we will demonstrate how to setup a Tributech Node to send events to an client and how a user can <a href="#verification">verify</a> that the received event data has not been tampered with.</p>
<p><img decoding="async" loading="lazy" alt="Tributech Node - Webhooks Focus" src="/assets/images/DemeterArchitectureOverviewWebhookFocus-ccf949918089ef81a78b90214eaf049f.png" width="739" height="341" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="webhook-subscription-management">Webhook Subscription Management<a href="#webhook-subscription-management" class="hash-link" aria-label="Direct link to Webhook Subscription Management" title="Direct link to Webhook Subscription Management">​</a></h2>
<p>In order to receive information about a Tributech Node <a href="#event-types">Event</a> we need to create a webhook subscription.
A webhook subscription defines the clients HTTP POST endpoint, a selection of <a href="#event-types">Events</a> and a secret to sign the event data.
In this section we will show how to create and manage a webhook subscription for a specific event in the Tributech Node <code>Webhook</code> Section.</p>
<p><img decoding="async" loading="lazy" alt="Tributech Node - Webhooks" src="/assets/images/Webhook_Overview_Empty-015d1166401119869261310e93a1a03d.png" width="1262" height="529" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="create">Create<a href="#create" class="hash-link" aria-label="Direct link to Create" title="Direct link to Create">​</a></h3>
<p>We can create a Subscription by simple clicking the <code>ADD SUBSCRIPTION</code> button on the right side of the Tributech Node <code>Webhook</code> Section.</p>
<p><img decoding="async" loading="lazy" alt="Tributech Node - Webhooks Add Subscription" src="/assets/images/Webhook_AddSubscription-79b7cbaa5d3b18b724033753c25c0d31.png" width="1547" height="527" class="img_ev3q"></p>
<p>In the following Dialog Box we add our clients HTTP POST endpoint (e.g. <a href="https://webhook.site/" target="_blank" rel="noopener noreferrer">Webhook.site</a>), choose the desired <a href="#event-types">Event Types</a> and add a secret for the event information <a href="#verification">verification</a>. Its important to note that the secret can later only be updated and not retrieved.
In this example we subscribe to the Events <code>SourceCommandRequestEvent</code>, <code>SourceCommandResponseEvent</code> and <code>SourceCommandStateUpdateEvent</code> that occurs when interacting with Source commands that we can trigger within our <a href="/tributech_agent/quickstart">Quickstart Example</a> (more information about events can be found <a href="#event-types">Events</a>).</p>
<p><img decoding="async" loading="lazy" alt="Tributech Node - Webhooks Create Wizard" src="/assets/images/Webhook_CreationWizard-cc4ca9f5b6e4fc8cee02f2d40db564b9.png" width="855" height="465" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="edit">Edit<a href="#edit" class="hash-link" aria-label="Direct link to Edit" title="Direct link to Edit">​</a></h3>
<p>If we want to update the settings for a Webhook subscription, we can do that via the three dots in the actions column.</p>
<p><img decoding="async" loading="lazy" alt="Tributech Node - Webhooks Overview Edit" src="/assets/images/Webhook_Overview_Edit-f7bd9469028de6d25e09a9311ec7a094.png" width="1270" height="638" class="img_ev3q"></p>
<p>This way the events, webhook url or secret can be adjusted for the current Subscription.</p>
<p><img decoding="async" loading="lazy" alt="Tributech Node - Webhooks Edit" src="/assets/images/Webhook_Edit-4adf420684a949232ecc3c1120755bdb.png" width="802" height="493" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="deactivate">Deactivate<a href="#deactivate" class="hash-link" aria-label="Direct link to Deactivate" title="Direct link to Deactivate">​</a></h3>
<p>We can disable the previously created Webhook by clicking the three dots in the action colum and choosing <code>Toggle Active</code> button to pause the notifications.</p>
<p><img decoding="async" loading="lazy" alt="Tributech Node - Webhooks Deactivate" src="/assets/images/Webhook_Overview_ActivateToggle-c53ce1e3b48607c59fdc98211ebd1dbd.png" width="1270" height="638" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="deletion">Deletion<a href="#deletion" class="hash-link" aria-label="Direct link to Deletion" title="Direct link to Deletion">​</a></h3>
<p>If we want to delete a Webhook subscription we can do that via the three dots in the actions column.</p>
<p><img decoding="async" loading="lazy" alt="Tributech Node - Webhooks Overview Edit" src="/assets/images/Webhook_Overview_Delete-c3a46fe91214ba5520abdd49f2d3d926.png" width="1270" height="638" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="webhook-events">Webhook Events<a href="#webhook-events" class="hash-link" aria-label="Direct link to Webhook Events" title="Direct link to Webhook Events">​</a></h2>
<p>A Webhook Event is a <code>json</code> object that is generated by a Tributech Node containing Event specific information when a certain condition is met.
This <code>json object</code> is send within a HTTP object to a Webhook Subscription previously defined by a User. In this section we will go into detail which events are supported and what information can be retrieved from it.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="headers">Headers<a href="#headers" class="hash-link" aria-label="Direct link to Headers" title="Direct link to Headers">​</a></h3>
<p>Webhooks send by the Tributech Node are HTTP objects that contain default HTTP information and some Tributech specific attributes, which we will discuss in the following section. The following Headers are included in the HTTP response and contain Tributech specific information:</p>
<table><thead><tr><th>Attribute</th><th>Description</th><th>Sample Value</th></tr></thead><tbody><tr><td>x-tributech-correlationid</td><td>A trace id to track the data through our node</td><td>00000000-0000-0000-0000-000000000000</td></tr><tr><td>x-tributech-eventid</td><td>unique identifier through the node (guid) to identify the event</td><td>49acaa7b-fa72-4863-ab4b-7933fedeb59a</td></tr><tr><td>x-tributech-event</td><td>event name to identify the type of event</td><td>ValueReceivedEvent</td></tr><tr><td>x-tributech-signaturetimestamp</td><td>creation timestamp utc of the signature (timestamp format: <a href="https://de.wikipedia.org/wiki/ISO_8601" target="_blank" rel="noopener noreferrer">ISO 8601</a>)</td><td>06/16/2023 05:08:46 +00:00</td></tr><tr><td>x-tributech-signature</td><td>signature of the webhook event</td><td>sha256=0316443119ED851EE18AA6176E8281E6A28<br>D02A52EAF5DC85D45A6149173F412</td></tr><tr><td>x-tributech-timestamp</td><td>event timestamp utc (timestamp format: <a href="https://de.wikipedia.org/wiki/ISO_8601" target="_blank" rel="noopener noreferrer">ISO 8601</a>)</td><td>06/16/2023 05:08:43 +00:00</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="event-types">Event Types<a href="#event-types" class="hash-link" aria-label="Direct link to Event Types" title="Direct link to Event Types">​</a></h3>
<p>When creating a Webhook subscription, we can choose what type of events we want to receive. We will describe in the following section the Events based on type of information they are providing, e.g. Device, Proof, Stream,.. .</p>
<p>Its important to note that each of the Event Types contain a predefined property <code>EventQoS</code> which will be contained in each
webhook event indicating the frequency of the events. This property is used by the redelivery mechanism to know how often a event should be handled in case
the HTTP POST client response with an error code (more details in <a href="#error-handling">Error Handling</a>).</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="device-events">Device Events<a href="#device-events" class="hash-link" aria-label="Direct link to Device Events" title="Direct link to Device Events">​</a></h4>
<p>Device Events are triggered by interactions with devices and device status changes,
this includes enrollments, configuration and source commands.</p>
<table><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody><tr><td>DeviceConnectionEvent</td><td>Occurs when a Device has changed its connection status</td></tr><tr><td>DeviceStateEvent</td><td>Occurs when a Device has changed its own state</td></tr><tr><td>GetConfigurationRequestEvent</td><td>Occurs when the Get Configuration Command has been requested</td></tr><tr><td>GetConfigurationResponseEvent</td><td>Occurs when the Get Configuration Command has finished and the response was received</td></tr><tr><td>IncomingEnrollmentRequestEvent</td><td>Occurs when an Enrollment request was received</td></tr><tr><td>SetConfigurationRequestEvent</td><td>Occurs when the Set Configuration Command has been requested</td></tr><tr><td>SetConfigurationResponseEvent</td><td>Occurs when the Set Configuration Command has finished and the response was received</td></tr><tr><td>SourceCommandRequestEvent</td><td>Occurs when a Source Command is invoked and sent to the Agent</td></tr><tr><td>SourceCommandResponseEvent</td><td>Occurs when the Source Command has finished and the response was received</td></tr><tr><td>SourceCommandStateUpdateEvent</td><td>Occurs when a Agent or Agent Source has sent a execution state of the current Command</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="proof-events">Proof Events<a href="#proof-events" class="hash-link" aria-label="Direct link to Proof Events" title="Direct link to Proof Events">​</a></h4>
<p>Proof Events describe events related to proof handling and status, e.g. received, valid, stored.</p>
<table><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody><tr><td>ProofConfirmedEvent</td><td>Occurs when the Proof is successfully placed on the BlockChain</td></tr><tr><td>ProofReceivedEvent</td><td>Occurs when a Proof is received from a Device</td></tr><tr><td>ProofStoredEvent</td><td>Occurs when the Proof is stored into the Persistence Layer and passed into the Block Chain</td></tr><tr><td>ProofValidatedEvent</td><td>Occurs when the Proof is validated</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="stream-events">Stream Events<a href="#stream-events" class="hash-link" aria-label="Direct link to Stream Events" title="Direct link to Stream Events">​</a></h4>
<p>Stream Events provide information when stream management operations are executed.</p>
<table><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody><tr><td>StreamDeletedEvent</td><td>Occurs when a Agent or Stream is deleted and will be removed from the Node</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="twin-events">Twin Events<a href="#twin-events" class="hash-link" aria-label="Direct link to Twin Events" title="Direct link to Twin Events">​</a></h4>
<p>Twin Events provide information when Digital Twin management operations are executed.</p>
<table><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody><tr><td>TwinInstanceDeletedEvent</td><td>Occurs when a Digital Twin Instance was removed from the Node</td></tr><tr><td>TwinModelDeletedEvent</td><td>Occurs when a Digital Twin Model was removed from the Node</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="value-events">Value Events<a href="#value-events" class="hash-link" aria-label="Direct link to Value Events" title="Direct link to Value Events">​</a></h4>
<p>Value Events are triggered when the Tributech Node interacts with Stream Values.</p>
<table><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody><tr><td>ValueReceivedEvent</td><td>Occurs when a Value is received from an Device</td></tr><tr><td>ValueStoredEvent</td><td>Occurs when a Value is stored into the Persistence Layer</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="error-handling">Error Handling<a href="#error-handling" class="hash-link" aria-label="Direct link to Error Handling" title="Direct link to Error Handling">​</a></h3>
<p>The error handling of webhook events is based on the status code of the HTTP POST responses to the clients HTTP POST
endpoint. Commonly errors occur in the following situations:</p>
<ul>
<li>Network is not available</li>
<li>Endpoint described within the subscription is not reachable</li>
<li>Endpoint returns something else then a HTTP 200 (OK)</li>
</ul>
<p>In the case of an error during Webhook Event delivery we implemented an back-off redelivery mechanism that calculates retries based on the formula  <code>(Attempt Count + 0,7) ^ 4 + Minimum Retry Interval</code>. The <code>Attempt Count</code> in this formula is dependent on the <code>EventQoS</code> property value (contained in ever webhook event) which is predefined and cannot be changed.
A value of <code>1</code> indicates that the event is a high frequency event (like data received) and a <code>2</code> marks standard frequency events.</p>
<ul>
<li>High frequency events will not be retried</li>
<li>Standard Frequency events have <strong>10 retries</strong> before they are discarded.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="verification">Verification<a href="#verification" class="hash-link" aria-label="Direct link to Verification" title="Direct link to Verification">​</a></h2>
<p>In order to verify that the received Webhook Event has not been tempered with can verify the event using either <a href="https://github.com/openssl/openssl" target="_blank" rel="noopener noreferrer">OpenSSL</a> or <a href="https://learn.microsoft.com/en-us/dotnet/csharp/" target="_blank" rel="noopener noreferrer">Microsoft C#</a>. We will show in this section how to use both approaches with examples based on the previously created webhook. We will use an arbitrary  secret <code>foobar</code> and choose as event <code>ProofStoredEvent</code> (see <a href="#event-types">Event Types</a>) and assume that a Tributech Source is already successfully sending data to a Tributech Node (see <a href="/tributech_agent/quickstart">QuickStarter Guide</a>).</p>
<p>In our examples we use the free Webhook client <a href="https://webhook.site/" target="_blank" rel="noopener noreferrer">Webhook.site</a> to provide the HTTP POST endpoint for the subscription. We will use the website to inspect the received events <code>json</code> payload and HTTP Header attributes. The URL <code>https://webhook.site/#!/view/c445d2cb-bbcb-4db6-b71c-04ca220eea6d</code> in our samples needs to be adjusted to your HTTP POST endpoint. Note that <a href="https://webhook.site/" target="_blank" rel="noopener noreferrer">Webhook.site</a> limits the amount of events you can receive and high frequency events will reach those limits quickly.</p>
<p><img decoding="async" loading="lazy" alt="Tributech Node - Webhooks Overview" src="/assets/images/Webhook.site-fbcca8d9b59a2d4149fae17a699b1490.png" width="1043" height="466" class="img_ev3q"></p>
<p>Make sure that the Webhook Subscription is configured to listen to <code>ProofStoredEvent</code> events. Shortly after starting the Source and activating the Webhook Subscription we should receive our first events from an active Stream:</p>
<p><img decoding="async" loading="lazy" alt="Tributech Node - Webhooks Received Event" src="/assets/images/Webhook_ProofStoredEvent-f54dad54148eaa300f25ce092847e173.png" width="1717" height="786" class="img_ev3q"></p>
<p>On <a href="https://webhook.site/" target="_blank" rel="noopener noreferrer">Webhook.site</a> we see the Tributech Headers with the following headers (excerpt) on the right side:</p>
<table><thead><tr><th>Headers</th><th></th></tr></thead><tbody><tr><td>x-tributech-webhook-version</td><td>2.0.0</td></tr><tr><td>x-tributech-event</td><td>ProofStoredEvent</td></tr><tr><td>x-tributech-signaturetimestamp</td><td>2024-05-28T06:31:14.851318+00:00</td></tr><tr><td>x-tributech-signature</td><td>sha256=065CF4E993CF1DF7399B2DF64A147567552EB4BB7DD91ACC73840D5B8411B940</td></tr></tbody></table>
<p>The Headers contains the Tributech specific Attribute <code>x-tributech-signature</code> and <code>x-tributech-signaturetimestamp</code> which we will use in the next section to verify that the Payload was not tempered with. The payload itself contains the <code>EventQoS</code> flag for Standard Frequency (see <a href="#error-handling">Error Handling</a>) and some information about the Agent, Stream and the Proof. Important to note is that in this example the Root hash of the MerkleTree and the Signature of the RootHash are <code>BASE64</code> encoded strings in byte array form.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;TransactionId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token null keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;StreamId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;15caf997-2f2f-43c2-b5e9-6a3ac00b1edb&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;MerkleTreeDepth&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;LastTimestamp&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;2024-05-28T06:31:14.851318+00:00&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;RootHash&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">199</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">51</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">64</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">165</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">193</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">234</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">157</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">113</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">156</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">124</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">186</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">212</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">182</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">137</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">146</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">243</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">114</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">177</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">215</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">234</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">61</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">38</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">199</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">138</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">227</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">179</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">195</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">27</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">237</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">88</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">198</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;Signature&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">61</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">212</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">199</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">55</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">23</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">184</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">147</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">251</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">18</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">36</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">229</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">59</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">39</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">152</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">32</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">196</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">18</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">189</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">170</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">34</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">162</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">147</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">255</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">69</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">59</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">56</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">31</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">63</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">221</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">41</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">226</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">128</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">238</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">106</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">148</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">148</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">192</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">217</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">48</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">67</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">197</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">217</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">118</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">56</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">232</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">167</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">63</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">229</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">27</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">247</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">105</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">208</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">79</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">185</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">193</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">254</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">26</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">17</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">200</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">186</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">154</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">192</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">117</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">153</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">60</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">81</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">232</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">196</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">251</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">28</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">128</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">151</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">44</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">32</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">41</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">188</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">252</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">224</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">241</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">46</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">172</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">77</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">247</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">81</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">61</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">247</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">32</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">220</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">166</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">141</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">107</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">150</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">149</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">230</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">206</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">114</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">182</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">111</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">202</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">245</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">217</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">172</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">90</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">178</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">75</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">143</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">113</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">43</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">225</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">34</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">127</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">85</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">167</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">116</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">150</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">114</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">35</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">47</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">124</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">66</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">196</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">194</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">58</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">114</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">12</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">73</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">253</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">13</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">68</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">181</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">11</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">151</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">152</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">212</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">171</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">189</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">146</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">187</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">71</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">111</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">212</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">88</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">228</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">246</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">246</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">14</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">33</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">88</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">114</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">151</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">17</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">71</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">23</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">231</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">152</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">56</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">219</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">108</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">220</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">60</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">226</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">241</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">53</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">77</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">104</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">153</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">98</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">200</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">127</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">77</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">153</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">160</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">138</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">245</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">76</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">204</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">171</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">68</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">52</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">236</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">169</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">238</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">46</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">18</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">58</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">231</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">196</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">104</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">77</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">34</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">190</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">14</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">85</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">41</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">220</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">39</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">180</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">117</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">22</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">77</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">18</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">229</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">55</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">25</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">170</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">22</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">151</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">157</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">254</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">9</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">199</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">52</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">205</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">71</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">51</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">67</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">135</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">229</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">143</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">248</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">27</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">45</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">19</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">141</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">72</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">72</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">43</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">215</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">87</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">85</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">243</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">93</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">186</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">53</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">202</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">186</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">96</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">120</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">202</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">188</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">215</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">125</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">80</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">115</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">120</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">143</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">97</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;AgentId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;a324b439-c03b-4e0f-a63e-8067c4423b7b&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;EventQoS&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="openssl">Openssl<a href="#openssl" class="hash-link" aria-label="Direct link to Openssl" title="Direct link to Openssl">​</a></h3>
<p>With the following <a href="https://github.com/openssl/openssl" target="_blank" rel="noopener noreferrer">OpenSSL</a> command we verify the previous example values of the <code>x-tributech-signature</code> <em><strong>HMAC SHA256</strong></em> signature on a unix system:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-n</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;&lt;event-json&gt;&lt;signature-timestamp&gt;&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> openssl dgst </span><span class="token parameter variable" style="color:#36acaa">-sha256</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-hmac</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&lt;webhook-secret&gt;&quot;</span><br></span></code></pre></div></div>
<p>In order to work we need to replace the placeholders with concrete values</p>
<ul>
<li><code>event-json</code> - The received raw json content from the webhook event</li>
<li><code>signature-timestamp</code> - The Header attribute <code>x-tributech-signaturetimestamp</code> value</li>
<li><code>webhook-secret</code> - the secret used to create the webhook in the Tributech Node UI</li>
</ul>
<p>Explicit Example:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-n</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;{&quot;TransactionId&quot;:null,&quot;StreamId&quot;:&quot;15caf997-2f2f-43c2-b5e9-6a3ac00b1edb&quot;,&quot;MerkleTreeDepth&quot;:5,&quot;LastTimestamp&quot;:&quot;2024-05-28T06:31:14.851318+00:00&quot;,&quot;RootHash&quot;:[199,51,64,165,193,234,157,113,156,124,186,212,182,137,146,243,6,114,177,215,234,61,38,199,138,227,179,195,27,237,88,198],&quot;Signature&quot;:[61,212,2,199,55,23,184,147,251,18,36,229,59,39,152,32,196,18,189,170,34,162,147,255,69,59,56,31,63,221,41,226,20,128,238,106,148,148,192,217,48,16,67,197,217,118,56,232,167,63,229,27,247,105,208,79,185,193,254,26,17,200,186,154,192,117,153,60,81,232,196,251,28,128,151,44,32,2,41,188,252,224,241,46,172,77,247,81,61,247,32,220,166,141,107,150,149,230,206,5,114,182,111,202,245,217,172,90,178,75,143,113,43,225,34,4,127,85,167,116,150,114,35,47,124,66,196,194,58,114,12,73,253,13,68,181,11,151,152,212,171,189,146,5,187,71,111,212,88,228,246,246,14,33,88,114,151,17,71,23,231,152,56,219,108,220,60,226,241,53,77,104,153,98,200,127,77,153,160,138,245,76,204,171,68,52,236,169,8,238,46,18,58,231,196,104,77,34,190,14,85,41,220,39,180,117,22,77,18,20,229,55,25,170,22,151,157,254,9,199,52,205,71,51,67,135,229,143,248,27,45,19,141,72,72,43,215,87,85,243,93,186,53,202,186,96,120,202,188,215,125,80,115,120,143,97],&quot;AgentId&quot;:&quot;a324b439-c03b-4e0f-a63e-8067c4423b7b&quot;,&quot;EventQoS&quot;:1}2024-05-28T06:31:37.3121930+00:00&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> openssl dgst </span><span class="token parameter variable" style="color:#36acaa">-sha256</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-hmac</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;foobar&quot;</span><br></span></code></pre></div></div>
<p>We can now compare the output <code>SHA2-256(stdin)= 065cf4e993cf1df7399b2df64a147567552eb4bb7dd91acc73840d5b8411b940</code> of the command with the value of the Webhook Header attribute <code>x-tributech-signature</code> which does have matching hexadecimal values.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="c-code">C# Code<a href="#c-code" class="hash-link" aria-label="Direct link to C# Code" title="Direct link to C# Code">​</a></h3>
<p>In the following section we use the previous example values to verify the <em><strong>HMAC SHA256</strong></em> signatures by using <a href="https://learn.microsoft.com/en-us/dotnet/csharp/" target="_blank" rel="noopener noreferrer">MS C#</a>
which can be pasted into <a href="https://dotnetfiddle.net/" target="_blank" rel="noopener noreferrer">Fiddle</a> or Locale Development Environment:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">using</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">System</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">using</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">System</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token namespace" style="opacity:0.7">Linq</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">using</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">System</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token namespace" style="opacity:0.7">Security</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token namespace" style="opacity:0.7">Cryptography</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">using</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">System</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token namespace" style="opacity:0.7">Globalization</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Program</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">WriteLine</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">HashHMAC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;foobar&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">@&quot;{&quot;&quot;TransactionId&quot;&quot;:null,&quot;&quot;StreamId&quot;&quot;:&quot;&quot;15caf997-2f2f-43c2-b5e9-6a3ac00b1edb&quot;&quot;,&quot;&quot;MerkleTreeDepth&quot;&quot;:5,&quot;&quot;LastTimestamp&quot;&quot;:&quot;&quot;2024-05-28T06:31:14.851318+00:00&quot;&quot;,&quot;&quot;RootHash&quot;&quot;:[199,51,64,165,193,234,157,113,156,124,186,212,182,137,146,243,6,114,177,215,234,61,38,199,138,227,179,195,27,237,88,198],&quot;&quot;Signature&quot;&quot;:[61,212,2,199,55,23,184,147,251,18,36,229,59,39,152,32,196,18,189,170,34,162,147,255,69,59,56,31,63,221,41,226,20,128,238,106,148,148,192,217,48,16,67,197,217,118,56,232,167,63,229,27,247,105,208,79,185,193,254,26,17,200,186,154,192,117,153,60,81,232,196,251,28,128,151,44,32,2,41,188,252,224,241,46,172,77,247,81,61,247,32,220,166,141,107,150,149,230,206,5,114,182,111,202,245,217,172,90,178,75,143,113,43,225,34,4,127,85,167,116,150,114,35,47,124,66,196,194,58,114,12,73,253,13,68,181,11,151,152,212,171,189,146,5,187,71,111,212,88,228,246,246,14,33,88,114,151,17,71,23,231,152,56,219,108,220,60,226,241,53,77,104,153,98,200,127,77,153,160,138,245,76,204,171,68,52,236,169,8,238,46,18,58,231,196,104,77,34,190,14,85,41,220,39,180,117,22,77,18,20,229,55,25,170,22,151,157,254,9,199,52,205,71,51,67,135,229,143,248,27,45,19,141,72,72,43,215,87,85,243,93,186,53,202,186,96,120,202,188,215,125,80,115,120,143,97],&quot;&quot;AgentId&quot;&quot;:&quot;&quot;a324b439-c03b-4e0f-a63e-8067c4423b7b&quot;&quot;,&quot;&quot;EventQoS&quot;&quot;:1}&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> DateTimeOffset</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Parse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;2024-05-28T06:31:37.3121930+00:00&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">string</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">HashHMAC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">string</span><span class="token plain"> secret</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:#00009f">string</span><span class="token plain"> webHookPayloadJson</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">DateTimeOffset</span><span class="token plain"> signatureTimestamp</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name keyword" style="color:#00009f">var</span><span class="token plain"> encoding </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">System</span><span class="token constructor-invocation class-name punctuation" style="color:#393A34">.</span><span class="token constructor-invocation class-name">Text</span><span class="token constructor-invocation class-name punctuation" style="color:#393A34">.</span><span class="token constructor-invocation class-name">ASCIIEncoding</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name keyword" style="color:#00009f">var</span><span class="token plain"> messageHash </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">HMACSHA256</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">encoding</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">GetBytes</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">secret</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name keyword" style="color:#00009f">var</span><span class="token plain"> payload </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> encoding</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">GetBytes</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">webHookPayloadJson</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                          </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Concat</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">encoding</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">GetBytes</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">signatureTimestamp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">ToString</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">CultureInfo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">InvariantCulture</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                          </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">ToArray</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name keyword" style="color:#00009f">var</span><span class="token plain"> signature </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> messageHash</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">ComputeHash</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">payload</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> BitConverter</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">ToString</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">signature</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Replace</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;-&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<ul>
<li><code>secret</code> - The webhook secret defined during the creation</li>
<li><code>webHookPayloadJson</code> - The whole received Json object</li>
<li><code>signature-timestamp</code> - The Header attribute <code>x-tributech-signaturetimestamp</code> value</li>
</ul>
<p>This code example can be used to output the exact same signature which is present in the header (without the <code>sha256=</code> prefix, i.e. <code>D633514A1CE9688E816F33B2A6A48E08ED6FE621246483B0F219BB3B873C1B5E</code>).</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/tributech-solutions/tributech-dsk-docs/edit/master/versioned_docs/version-5.0.0/tributech_node/Webhook_integration.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/tributech_node/api_category/API_integration"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Integration</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/tributech_agent/overview"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Overview</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#general" class="table-of-contents__link toc-highlight">General</a></li><li><a href="#webhook-subscription-management" class="table-of-contents__link toc-highlight">Webhook Subscription Management</a><ul><li><a href="#create" class="table-of-contents__link toc-highlight">Create</a></li><li><a href="#edit" class="table-of-contents__link toc-highlight">Edit</a></li><li><a href="#deactivate" class="table-of-contents__link toc-highlight">Deactivate</a></li><li><a href="#deletion" class="table-of-contents__link toc-highlight">Deletion</a></li></ul></li><li><a href="#webhook-events" class="table-of-contents__link toc-highlight">Webhook Events</a><ul><li><a href="#headers" class="table-of-contents__link toc-highlight">Headers</a></li><li><a href="#event-types" class="table-of-contents__link toc-highlight">Event Types</a></li><li><a href="#error-handling" class="table-of-contents__link toc-highlight">Error Handling</a></li></ul></li><li><a href="#verification" class="table-of-contents__link toc-highlight">Verification</a><ul><li><a href="#openssl" class="table-of-contents__link toc-highlight">Openssl</a></li><li><a href="#c-code" class="table-of-contents__link toc-highlight">C# Code</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.facebook.com/tributech.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/tributechsolutions" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.tributech.io/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/tributech-solutions" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2018 - 2025 Tributech Solutions GmbH</div></div></div></footer></div>
</body>
</html>