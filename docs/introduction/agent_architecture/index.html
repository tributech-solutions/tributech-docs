<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<link rel="search" type="application/opensearchdescription+xml" title="Tributech DataSpace Kit Documentation" href="/opensearch.xml"><title data-react-helmet="true">Agent Architecture | Tributech DataSpace Kit Documentation</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://docs.tributech.io/docs/introduction/agent_architecture"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Agent Architecture | Tributech DataSpace Kit Documentation"><meta data-react-helmet="true" name="description" content="In this section, we will have a more detailed look at the DSK Agent architecture and services to give you a better understanding of the system and the concepts behind it. There are two different versions of Agents for edge (docker) and embedded (C library/hardware module) IoT devices, on this page, we use the docker-based version for edge devices as an example and outline the core concepts applying to both implementations."><meta data-react-helmet="true" property="og:description" content="In this section, we will have a more detailed look at the DSK Agent architecture and services to give you a better understanding of the system and the concepts behind it. There are two different versions of Agents for edge (docker) and embedded (C library/hardware module) IoT devices, on this page, we use the docker-based version for edge devices as an example and outline the core concepts applying to both implementations."><meta data-react-helmet="true" property="og:image" content="https://docs.tributech.io/img/favicon.png"><meta data-react-helmet="true" name="twitter:image" content="https://docs.tributech.io/img/favicon.png"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://docs.tributech.io/docs/introduction/agent_architecture"><link data-react-helmet="true" rel="alternate" href="https://docs.tributech.io/docs/introduction/agent_architecture" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.tributech.io/docs/introduction/agent_architecture" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.7b3ea8f4.css">
<link rel="preload" href="/assets/js/runtime~main.5e78fae9.js" as="script">
<link rel="preload" href="/assets/js/main.bd7a0356.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/favicon.png" alt="Tributech Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/favicon.png" alt="Tributech Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Tributech DSK Documentation</b></a><a class="navbar__item navbar__link" href="/docs/introduction/overview">Introduction</a><a class="navbar__item navbar__link" href="/docs/quickstart/overview">Quickstart</a><a class="navbar__item navbar__link" href="/docs/setup/overview">Setup</a><a class="navbar__item navbar__link" href="/docs/provide_data/overview">Provide Data</a><a class="navbar__item navbar__link" href="/docs/consume_data/overview">Consume Data</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/tributech-solutions" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Introduction</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/introduction/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/introduction/data_ecosystems_spaces">Data Ecosystems &amp; Dataspaces</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/introduction/overview_dsk">Overview DataSpace Kit</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/introduction/node_architecture">Node Architecture</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/introduction/agent_architecture">Agent Architecture</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Quickstart Guide</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Setup</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Provide data</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Consume Data</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_27L5">Agent Architecture</h1></header><p>In this section, we will have a more detailed look at the DSK Agent architecture and services to give you a better understanding of the system and the concepts behind it. There are two different versions of Agents for edge (docker) and embedded (C library/hardware module) IoT devices, on this page, we use the docker-based version for edge devices as an example and outline the core concepts applying to both implementations.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="system--service-architecture"></a>System &amp; Service Architecture<a class="hash-link" href="#system--service-architecture" title="Direct link to heading">#</a></h2><p>The following figure provides an overview of the DSK Agent services and the communication with DSK Node APIs.</p><p><img alt="System" src="/assets/images/system-d376ce86dfb83a827efa54a8c0ebe711.png"></p><p>The DSK Agent subscribes to available data streams on the message bus, generates data quality seals, transferers the data streams and quality seals to the DSK Node middleware and maintains a digital twin based self-description that is also used for the configuration.</p><p>The core modules of the DSK Agent are available as docker-compose application bundle that includes core services, sinks and a MQTT message broker. In addition to the core application bundle, the Agent supports integrations via data connectors (e.g. OPC-UA) and integrations into IoT runtimes of IoT device management platforms (e.g. Azure IoT Edge).</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="generation-of-data-quality-seals"></a>Generation of Data Quality Sealsâ€¯<a class="hash-link" href="#generation-of-data-quality-seals" title="Direct link to heading">#</a></h2><p>To enable the verification of data integrity and authenticity between a data source and data consumers across different infrastructures, the DSK Agent generates and stores verifiable data quality seals (also called proofs) in the blockchain-based trust layer.</p><p>For each datapoint or set of datapoints (depending on the configuration), theâ€¯Agent creates a signed SHA 256 root hash that is transferred to the Trust API endpoint of a DSK Node and stored on-chain. In addition, each proof / data quality seal includes a reference that points to the raw data that is stored off-chain in the data layer of a DSK Node or an external storage system, per default transferred to the Data API endpoint.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="self-description-and-configuration"></a>Self-description and Configuration<a class="hash-link" href="#self-description-and-configuration" title="Direct link to heading">#</a></h2><p>The configuration and self-description of each Agent is modelled as a digital twin, stored as a DTDL JSON file and synchronized with the agent management on the backend side. The configuration includes everything that is needed to configure an Agent, including connected sources and sinks. The configuration is handled through the Agent Companion App and the Agent Management of an DSK Node.</p><p><img alt="Self Description" src="/assets/images/self_descriptions-6957850400e3b7f88c2a66bb09f374e4.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="secure-provisioning-and-linking"></a>Secure Provisioning and Linking<a class="hash-link" href="#secure-provisioning-and-linking" title="Direct link to heading">#</a></h2><p>To generate data quality seals, a DSK Agent requires a cryptographic key pair. Therefore, the DSK services provide a secure key provisioning and linking process for Agents that include:</p><ul><li>Authentication and logging of users that provision Agents</li><li>Secure offline generation of key pairs (HSM or local storage)</li><li>A signing challenge to link Agents</li><li>A public key registry to store keys of provisioned Agents</li></ul><p>Users can download the Agent Companion App to link and provision an Agent to a DSK Node. For this process, a user needs to sign in to verify his permissions and track/log the provisioning activities within his identity. These steps protect the system against malicious parties that want to link an Agent or send corrupted/manipulated data.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/tributech-solutions/tributech-dsk-docs/edit/master/docs/introduction/agent_architecture.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/introduction/node_architecture"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Node Architecture</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/quickstart/overview"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Overview Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#system--service-architecture" class="table-of-contents__link">System &amp; Service Architecture</a></li><li><a href="#generation-of-data-quality-seals" class="table-of-contents__link">Generation of Data Quality Sealsâ€¯</a></li><li><a href="#self-description-and-configuration" class="table-of-contents__link">Self-description and Configuration</a></li><li><a href="#secure-provisioning-and-linking" class="table-of-contents__link">Secure Provisioning and Linking</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Azure Marketplace</div><ul class="footer__items"><li class="footer__item"><a href="https://azuremarketplace.microsoft.com/en-us/marketplace/apps/tributechsolutionsgmbh1582568815297.57601ccd-62c3-4842-9f73-3dadd3de5b74?tab=Overview" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>DataSpace Agent<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://azuremarketplace.microsoft.com/en-us/marketplace/apps/tributechsolutionsgmbh1582568815297.8aa9010b-3dd5-43e0-a4b6-53e2ea552e4a?tab=Overview" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>DataSpace Node<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://azuremarketplace.microsoft.com/en-us/marketplace/apps/tributech.tributech_dataspace_kit?tab=Overview" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>DataSpace Kit<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://www.facebook.com/tributech.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Facebook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/tributechsolutions" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://www.tributech.io/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/tributech-solutions" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2018 - 2021 Tributech Solutions GmbH</div></div></div></footer></div>
<script src="/assets/js/runtime~main.5e78fae9.js"></script>
<script src="/assets/js/main.bd7a0356.js"></script>
</body>
</html>